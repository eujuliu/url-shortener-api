# APP SETTINGS
spring.application.name=urlshortenerapi

# MANAGEMENT
management.endpoints.web.exposure.include=health,metrics,prometheus
management.endpoint.health.show-details=always

# LOGGING
logging.level.root=INFO
logging.level.org.springframework.security=DEBUG
logging.level.com.julio.urlshortenerapi.service.JwtService=DEBUG

# CASSANDRA SETTINGS
spring.cassandra.contact-points=${CASSANDRA_CONTACT_POINTS:localhost}
spring.cassandra.local-datacenter=${CASSANDRA_LOCAL_DATACENTER:DC1}
basic.load-balancing-policy.local-datacenter=${CASSANDRA_LOCAL_DATACENTER:DC1}
spring.cassandra.keyspace=${CASSANDRA_KEYSPACE:urlshortener}
spring.cassandra.schema-action=CREATE_IF_NOT_EXISTS
spring.cassandra.request.timeout=10s
spring.cassandra.connection.connect-timeout=10s
spring.cassandra.connection.init-query-timeout=10s

# REDIS
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}

# SESSION
spring.session.store-type=redis

# OAUTH GOOGLE
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:}
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/api/v1/login/oauth2/code/{registrationId}

# OAUTH GITHUB
spring.security.oauth2.client.registration.github.client-id=${GITHUB_CLIENT_ID:}
spring.security.oauth2.client.registration.github.client-secret=${GITHUB_CLIENT_SECRET:}
spring.security.oauth2.client.registration.github.scope=read:user,user:email
spring.security.oauth2.client.registration.github.redirect-uri={baseUrl}/api/v1/login/oauth2/code/{registrationId}

# SECURITY
security.oauth2.success-url=${OAUTH_SUCCESS_URL:/}
security.oauth2.failure-url=${OAUTH_FAILURE_URL:/login?error=oauth2_failure}
security.basic.enabled=false

# CORS
security.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:*}
security.cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS}
security.cors.allowed-headers=${CORS_ALLOWED_HEADERS:Authorization,Origin,Content-Type}
security.cors.max-age=${CORS_MAX_AGE:1036800}


# JWT
security.jwt.secret-key=${JWT_SECRET:8c910cbdfd76aef8d22783e0ad76a4a3a1b1ef541a551127a1ccafcfcf078d20}
# 1h in millisecond
security.jwt.access-token.expiration-time=3600000
# 7d in millisecond
security.jwt.refresh-token.expiration-time=604800000
security.jwt.refresh-token.cookie.secure=${ACCESS_TOKEN_COOKIE_SECURE:true}
